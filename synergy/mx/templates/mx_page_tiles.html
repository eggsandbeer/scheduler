{% extends 'main_header.html' %}
{% block body %}

    {% set mx_trees = {
        'TreeSite': {
            'tree_name': 'TreeSite',
            'processes': {
                'SiteYearly': {
                    'process_name': 'SiteYearly',
                    'time_qualifier': '_yearly',
                    'state_machine_name': 'discrete',
                    'process_type': 'type_managed',
                    'run_on_active_timeperiod': False,
                    'reprocessing_queue': [],
                    'next_timeperiod': '2015000000',
                    'trigger_frequency': 'every 14000',
                    'state': 'state_on',
                    'blocking_type': 'blocking_normal'
                },
                'SiteMonthly': {
                    'process_name': 'SiteMonthly',
                    'time_qualifier': '_monthly',
                    'state_machine_name': 'discrete',
                    'process_type': 'type_managed',
                    'run_on_active_timeperiod': False,
                    'reprocessing_queue': [],
                    'next_timeperiod': '2015030000',
                    'trigger_frequency': 'every 7000',
                    'state': 'state_on',
                    'blocking_type': 'blocking_normal'
                },
                'SiteDaily': {
                    'process_name': 'SiteDaily',
                    'time_qualifier': '_daily',
                    'state_machine_name': 'discrete',
                    'process_type': 'type_managed',
                    'run_on_active_timeperiod': False,
                    'reprocessing_queue': [],
                    'next_timeperiod': '2015030100',
                    'trigger_frequency': 'every 3600',
                    'state': 'state_on',
                    'blocking_type': 'blocking_normal'
                },
                'SiteHourly': {
                    'process_name': 'SiteHourly',
                    'time_qualifier': '_hourly',
                    'state_machine_name': 'discrete',
                    'process_type': 'type_managed',
                    'run_on_active_timeperiod': False,
                    'reprocessing_queue': [],
                    'next_timeperiod': '2015030101',
                    'trigger_frequency': 'every 600',
                    'state': 'state_on',
                    'blocking_type': 'blocking_normal'
                }
            }
        },
        'TreeAlert': {
            'tree_name': 'TreeAlert',
            'processes': {
                'AlertDaily': {
                    'process_name': 'AlertDaily',
                    'time_qualifier': '_daily',
                    'state_machine_name': 'discrete',
                    'process_type': 'type_managed',
                    'run_on_active_timeperiod': False,
                    'reprocessing_queue': [],
                    'next_timeperiod': '2015030100',
                    'trigger_frequency': 'every 3600',
                    'state': 'state_on',
                    'blocking_type': 'blocking_normal'
                }
            }
        }
    } %}


    {%- for tree_name, tree_obj in mx_trees.items() -%}
        <div class="grid-container">
            <div id="grid-header-{{ tree_name }}" class="grid-header"></div>
            {%- for process_name in tree_obj.processes -%}
            <div id="grid-header-{{ process_name }}" class="grid-header"></div>
            {%- endfor -%}
        </div>
        <div class="grid-container">
            <div id="grid-info-{{ tree_name }}" class="grid-info"></div>
            {%- for process_name in tree_obj.processes -%}
            <div id="grid-info-{{ process_name }}" class="grid-info context-menu"></div>
            {%- endfor -%}
        </div>
    {%- endfor -%}

    <div class="context_menu_hide" id="rmenu">
        <ul>
            <li>
                <a onclick="process_batch('action_skip', false)">Skip</a>
            </li>
            <li>
                <a onclick="process_batch('action_reprocess', false)">Reprocess</a>
            </li>
        </ul>
    </div>

{% endblock %}
